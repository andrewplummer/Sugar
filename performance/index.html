<!DOCTYPE html>
<html>
  <head>
    <title>Sugar Performance</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script type="text/javascript" src="../unit_tests/javascripts/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="javascripts/benchmark.js"></script>
    <script type="text/javascript" src="javascripts/vendor/moment.js"></script>
    <!-- sugar -->
    <script type="text/javascript" src="../lib/core.js"></script>
    <script type="text/javascript" src="../lib/es5.js"></script>
    <script type="text/javascript" src="../lib/object.js"></script>
    <script type="text/javascript" src="../lib/array.js"></script>
    <script type="text/javascript" src="../lib/string.js"></script>
    <script type="text/javascript" src="../lib/number.js"></script>
    <script type="text/javascript" src="../lib/function.js"></script>
    <script type="text/javascript" src="../lib/date.js"></script>
    <script type="text/javascript" src="../lib/range.js"></script>
    <script type="text/javascript" src="../lib/regexp.js"></script>
  </head>
  <body>
    <button id="sugar">Sugar</button>
    <button id="moment">Moment</button>
    <button id="sugar2">Sugar 2</button>
    <button id="moment2">Moment 2</button>
    <button id="repeat">Repeat</button>
    <div id="output"></div>
  </body>
  <script>

    var d = new Date();
    var m = moment();

    function runTest(obj, format) {
      console.info(obj);
      $('#output').html(obj.format(format));
      runPerformanceTest(function() {
        obj.format(format);
      });
    }

    $('#sugar').click(function() {
      runTest(d, '{yyyy}');
    });

    $('#moment').click(function() {
      runTest(m, 'YYYY');
    });

    $('#sugar2').click(function() {
      runTest(d, Date.ISO8601_DATETIME);
    });

    $('#moment2').click(function() {
      runTest(m, 'YYYY-MM-DDTHH:mm:ss.SSS');
    });

    $('#repeat').click(function() {
      runPerformanceTest(100, function() {
        repeatString(30000, 'sss');
      });
    });

  </script>
</html>
