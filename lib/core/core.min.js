(function(){'use strict';var Sugar={},p=Object,aa="undefined"!==typeof global?global:window,ba="undefined"!==typeof module&&module.exports,ca=ba&&"undefined"!==typeof process?process.env.SUGAR_NO_CONFLICT:!1,da=p.prototype.hasOwnProperty,ea=!(!p.defineProperty||!p.defineProperties),fa="Boolean Number String Array Date RegExp Function".split(" "),ga={};
function q(a,b,c,d,e){var f;f=(c=!1!==c)?a.prototype:a;r(b,function(b,h){var k=ha("method",a,b,f),n=ha("original",a,b,f),s=b in f;"function"===typeof d&&k&&(h=ia(k,h,d));var C=c,B=h,u=Sugar[ga[a]],m;u&&(m=C?ja(B):B,t(u,b,m,!0),"function"===typeof B&&(t(m,"original",n),t(m,"method",B),t(m,"existed",s),t(m,"instance",C)));!e&&(!0===d?k:ca&&ga[a])||t(f,b,h)})}function ka(a,b,c){c=Sugar[ga[a]][c];var d={};d[b]=c.method;q(a,d,c.instance)}
function ma(a,b,c){var d=!b,e=!1;"string"===typeof b&&(b=[b]);r(Sugar[ga[a]],function(f,g){if(d||-1!==b.indexOf(f))e=!0,c(g.instance?a.prototype:a,f,g)});return e}function ha(a,b,c,d){return(b=Sugar[ga[b]])&&v(b,c)?b[c][a]:d[c]}function ia(a,b,c){return function(d){return c.apply(this,arguments)?b.apply(this,arguments):a.apply(this,arguments)}}function ja(a){return function(b){var c=arguments,d=[],e;for(e=1;e<c.length;e++)d.push(c[e]);return a.apply(b,d)}}
function t(a,b,c,d){ea?p.defineProperty(a,b,{value:c,enumerable:!!d,configurable:!0,writable:!0}):a[b]=c}function r(a,b){for(var c in a)if(v(a,c)&&!1===b.call(a,c,a[c],a))break}function v(a,b){return!!a&&da.call(a,b)}Sugar={extend:q,restore:function(a,b){if(!ca)return ma(a,b,function(a,b,e){t(a,b,e.method)})},revert:function(a,b){return ma(a,b,function(a,b,e){e.existed?t(a,b,e.original):delete a[b]})},noConflict:ca};ba?module.exports=Sugar:aa.Sugar=Sugar;
r(fa.concat("Object"),function(a,b){ga[aa[b]]=b;Sugar[b]={}});})();