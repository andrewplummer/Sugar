(function(){'use strict';var Sugar={},n=Object,aa="undefined"!==typeof global?global:window,ba="undefined"!==typeof module&&module.exports,ca=ba&&"undefined"!==typeof process?process.env.SUGAR_NO_CONFLICT:!1,da=n.prototype.hasOwnProperty,ea=!(!n.defineProperty||!n.defineProperties),fa="Boolean Number String Array Date RegExp Function".split(" "),ga={};
function q(a,b,c,d,e){var f;f=(c=!1!==c)?a.prototype:a;s(b,function(b,h){var m=ha("method",a,b,f),p=ha("original",a,b,f),r=b in f;"function"===typeof d&&m&&(h=ia(m,h,d));var C=c,A=h,u=Sugar[ga[a]],k;u&&(k=C?ja(A):A,t(u,b,k,!0),"function"===typeof A&&(t(k,"original",p),t(k,"method",A),t(k,"existed",r),t(k,"instance",C)));!e&&(!0===d?m:ca&&ga[a])||t(f,b,h)})}function la(a,b,c){c=Sugar[ga[a]][c];var d={};d[b]=c.method;q(a,d,c.instance)}
function na(a,b,c){var d=!b,e=!1;"string"===typeof b&&(b=[b]);s(Sugar[ga[a]],function(f,g){if(d||-1!==b.indexOf(f))e=!0,c(g.instance?a.prototype:a,f,g)});return e}function ha(a,b,c,d){return(b=Sugar[ga[b]])&&v(b,c)?b[c][a]:d[c]}function ia(a,b,c){return function(d){return c.apply(this,arguments)?b.apply(this,arguments):a.apply(this,arguments)}}function ja(a){return function(b){var c=arguments,d=[],e;for(e=1;e<c.length;e++)d.push(c[e]);return a.apply(b,d)}}
function t(a,b,c,d){ea?n.defineProperty(a,b,{value:c,enumerable:!!d,configurable:!0,writable:!0}):a[b]=c}function s(a,b){for(var c in a)if(v(a,c)&&!1===b.call(a,c,a[c],a))break}function v(a,b){return!!a&&da.call(a,b)}Sugar={extend:q,revert:function(a,b){return na(a,b,function(a,b,e){e.existed?t(a,b,e.original):delete a[b]})},restore:function(a,b){if(!ca)return na(a,b,function(a,b,e){t(a,b,e.method)})},noConflict:ca};ba?module.exports=Sugar:aa.Sugar=Sugar;
s(fa.concat("Object"),function(a,b){ga[aa[b]]=b;Sugar[b]={}});})();