var Bb="isObject,isNaN".split(","),Cb="keys,values,each,merge,clone,equal,watch,tap,has".split(",");
function Db(a,b,c,d){var e=/^(.+?)(\[.*\])$/,f,g,i;if(d!==m&&(g=b.match(e))){i=g[1];b=g[2].replace(/^\[|\]$/g,"").split("][");b.forEach(function(j){f=!j||j.match(/^\d+$/);if(!i&&fa(a))i=a.length;a[i]||(a[i]=f?[]:{});a=a[i];i=j});if(!i&&f)i=a.length.toString();Db(a,i,c)}else a[b]=c.match(/^[\d.]+$/)?parseFloat(c):c==="true"?k:c==="false"?m:c}F(o,m,k,{watch:function(a,b,c){if(ea){var d=a[b];o.defineProperty(a,b,{enumerable:k,configurable:k,get:function(){return d},set:function(e){d=c.call(a,b,d,e)}})}}});
F(o,m,function(a,b){return A(b)},{keys:function(a,b){var c=o.keys(a);c.forEach(function(d){b.call(a,d,a[d])});return c}});
F(o,m,m,{isObject:function(a){return na(a)},isNaN:function(a){return B(a)&&a.valueOf()!==a.valueOf()},equal:function(a,b){return S(a)===S(b)},extended:function(a){return new L(a)},merge:function(a,b,c,d){var e,f;if(a&&typeof b!="string")for(e in b)if(oa(b,e)&&a){f=b[e];if(J(a[e])){if(d===m)continue;if(A(d))f=d.call(b,e,a[e],b[e])}if(c===k&&f&&ma(f))if(ha(f))f=new s(f.getTime());else if(E(f))f=new q(f.source,ta(f));else{a[e]||(a[e]=p.isArray(f)?[]:{});o.merge(a[e],b[e],c,d);continue}a[e]=f}return a},
values:function(a,b){var c=[];H(a,function(d,e){c.push(e);b&&b.call(a,e)});return c},clone:function(a,b){if(!ma(a))return a;if(p.isArray(a))return a.concat();var c=a instanceof L?new L:{};return o.merge(c,a,b)},fromQueryString:function(a,b){var c=o.extended();a=a&&a.toString?a.toString():"";decodeURIComponent(a.replace(/^.*?\?/,"")).split("&").forEach(function(d){d=d.split("=");d.length===2&&Db(c,d[0],d[1],b)});return c},tap:function(a,b){var c=b;A(b)||(c=function(){b&&a[b]()});c.call(a,a);return a},
has:function(a,b){return oa(a,b)}});I(o,m,m,w,function(a,b){var c="is"+b;Bb.push(c);a[c]=function(d){return ia(d,b)}});(function(){F(o,m,function(){return arguments.length===0},{extend:function(){va(Bb.concat(Cb),o)}})})();va(Cb,L);
